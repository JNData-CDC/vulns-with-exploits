from datetime import date, timedelta

from NVDVulnDownloader import NVDVulnDownloader
from config import NVD_DIR, NVD_FEED_ROOT, NVD_API_VERSION, \
    NVD_YEAR_MIN


def main():
    # for now the time range is hardcoded to be 365 days
    today = date.today()
    delta = timedelta(days=365)
    start_date = today - delta

    nd = NVDVulnDownloader(start_date, today, NVD_DIR, NVD_FEED_ROOT, \
        NVD_API_VERSION, NVD_YEAR_MIN)
    
    nd.run()

if __name__ == "__main__":
    main()